(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{dc2e:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"river-width",attrs:{padding:""}},[i("q-expansion-item",{attrs:{"switch-toggle-side":"","dense-toggle":"",label:"Create Conflict"},on:{"before-show":t.userCheck},model:{value:t.expanded,callback:function(e){t.expanded=e},expression:"expanded"}},[i("CreateConflictWidget")],1),i("h6",{staticClass:"q-mb-sm text-center"},[t._v("Conflicts")]),i("q-separator"),i("q-list",{staticClass:"row"},[t.conflicts.length||t.done?t._e():i("h5",{staticClass:"q-ma-lg text-center"},[t._v("LOADING...")]),!t.conflicts.length&&t.done?i("h5",{staticClass:"q-ma-lg text-center"},[t._v("No conflicts found.")]):t._e(),t._l(t.conflicts,(function(e){return i("div",{key:e.id,staticClass:"col col-shrink info-card q-mb-lg"},[i("q-card",{staticClass:"flex-break q-ma-lg"},[i("router-link",{attrs:{to:"/conflict/"+e.id}},[i("div",{staticClass:"card-image",style:"background-image:url("+e.avatar_url+")"})]),i("q-card-section",[i("div",{staticClass:"text-h6 cursor-pointer ellipsis",attrs:{clickable:""}},[t._v(t._s(e.name))]),i("p",{staticClass:"ellipsis q-ma-none q-pa-none q-pb-sm"},[t._v(t._s(e.description))]),i("p",{staticClass:"q-ma-none q-pa-none ellipsis"},[i("span",{},[t._v(t._s(e.organization_a.name))]),t._v(" vs. "),i("span",{},[t._v(t._s(e.organization_b.name))])])]),i("q-card-section",[i("router-link",{attrs:{to:"/conflict/"+e.id}},[i("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Visit"}})],1)],1)],1)],1)})),t.done?t._e():i("div",{directives:[{name:"intersection",rawName:"v-intersection",value:t.onIntersection,expression:"onIntersection"}],staticClass:"full-width text-center"},[i("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)],2)],1)},s=[],a=i("c973"),o=i.n(a),l=i("156d"),c={meta(){return{title:"Conflicts"}},components:{CreateConflictWidget:l["a"]},name:"ConflictList",data(){return{conflicts:[],pointer:0,limit:10,done:!1,loadNum:0,expanded:!1}},created(){var t=this;return o()((function*(){t.loadConflicts()}))()},methods:{userCheck(t){this.$errorHandler.loggedInCheck()||(this.expanded=!1)},onIntersection:function(t,e){this.loadNum>1&&(this.pointer=this.pointer+this.limit,this.loadConflicts()),this.loadNum++},loadConflicts:function(){var t=o()((function*(){const t=`https://concordant-api.herokuapp.com/conflicts?filter[include][0][relation]=organization_a&filter[include][1][relation]=organization_b&filter[order]=create_date%20DESC&filter[limit]=${this.limit}&filter[skip]=${this.pointer}`,e=yield this.$axios.get(t);this.limit>e.data.length&&(this.done=!0),this.conflicts=this.conflicts.concat(e.data),console.log(this.conflicts[0])}));return function(){return t.apply(this,arguments)}}()}},r=c,d=i("2877"),p=Object(d["a"])(r,n,s,!1,null,null,null);e["default"]=p.exports}}]);